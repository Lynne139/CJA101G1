<div th:fragment="content">
    <div class="p-4">
        <!-- 查詢區塊（商品篩選卡片） -->
        <div class="panel mb-4">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h2 class="panel-title">商品篩選</h2>
                <a th:href="@{/prod/addProd}" class="btn btn_accent">
                    <i class="fas fa-plus me-2"></i>
                    新增商品
                </a>
            </div>
            
            <div th:if="${errorMessage}" class="alert alert-danger mb-3">
                [[${errorMessage}]]
            </div>
            
            <div class="row g-3">
                <!-- 輸入商品編號 -->
                <div class="col-md-4">
                    <form method="get" th:action="@{/admin/prod/select_page}">
                        <label class="form-label">商品編號</label>
                        <div class="input-group">
                            <input type="text" name="productId" th:value="${param.productId}" 
                                   class="form-control" placeholder="輸入商品編號">
                            <button type="submit" class="btn btn_secondary" title="查詢">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- 選擇商品編號 -->
                <div class="col-md-4">
                    <form method="get" th:action="@{/admin/prod/select_page}">
                        <label class="form-label">商品編號</label>
                        <div class="input-group">
                            <select name="productId" class="form-select">
                                <option value="" selected disabled>請選擇商品編號</option>
                                <option th:each="prodVO : ${prodListData}" 
                                        th:value="${prodVO.productId}" 
                                        th:text="${prodVO.productId}"></option>
                            </select>
                            <button type="submit" class="btn btn_secondary" title="查詢">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- 選擇商品名稱 -->
                <div class="col-md-4">
                    <form method="get" th:action="@{/admin/prod/select_page}">
                        <label class="form-label">商品名稱</label>
                        <div class="input-group">
                            <select name="productId" class="form-select">
                                <option value="" selected disabled>請選擇商品名稱</option>
                                <option th:each="prodVO : ${prodListData}" 
                                        th:value="${prodVO.productId}" 
                                        th:text="${prodVO.productName}"></option>
                            </select>
                            <button type="submit" class="btn btn_secondary" title="查詢">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        
        <!-- 查詢結果顯示區域 -->
        <div th:if="${prodVO != null}">
            <div th:insert="~{/admin/fragments/shop/prod/listOneProd :: listOneProd-div}"></div>
        </div>
        
        <div th:if="${prodVO == null}">
            <div th:insert="~{/admin/fragments/shop/prod/listAllProd :: listAllProd-div}"></div>
        </div>
    </div>
</div>